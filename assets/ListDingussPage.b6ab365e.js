import{a as H,Q as G}from"./QList.4249734c.js";import{Q as c,a as _}from"./QItemSection.0bb51c2b.js";import{u as J,Q as K}from"./dingus-store.432e147f.js";import{j as T,s as k,c as M,r as D,aB as g,l as r,H as v,u as a,k as h,m as t,f as l,F as A,aC as O,t as o,C as b,Q as I,p as Q,q as d,B as C,ak as N,n as W,an as X}from"./index.e2a387ad.js";import{Q as Y,a as Z}from"./QToolbar.f3d29169.js";import{Q as x}from"./QCard.20e9fa8a.js";import{C as ee}from"./ClosePopup.bfb8bde6.js";import{u as le}from"./vue-i18n.runtime.esm-bundler.233de6b8.js";import{u as te}from"./focus-manager.e902b365.js";import{u as ae}from"./app.store.27bb87ef.js";import"./use-key-composition.44ad2ba9.js";import"./portal.7eb16835.js";const se={key:0,style:{"text-align":"center"}},ne={key:2,class:"q-gutter-md"},oe=T({__name:"ListDingussComponent",setup(q){const V=te(),{t:L}=le(),y=ae(),{current_theme:u}=k(y),i=J(),{getDingusList:S}=k(i),{getSelectedDingus:m}=k(i),R=M(()=>{if(f.value.length>0){let e=new RegExp(f.value,"i");return i.getDingusList.filter(s=>s.name.search(e)>-1)}else return i.getDingusList});function z(e,s){w.value=s,i.selectDingus(e.name)}async function E(){const e=await i.deleteAllDinguss();F(e)}function F(e){e.code=="success"&&(p.value=!1,V.notify({message:L("you_deleted_all_dinguss"),color:"negative",position:"top"}))}const p=D(!1),w=D(-1),f=D("");return(e,s)=>{const P=g("app-card"),U=g("nothing-here"),B=g("app-btn"),j=g("app-dialog");return r(),v(A,null,[a(S).length>0?(r(),h(P,{key:0,msg:e.$t("list_of_dinguss")},{default:t(()=>[l(H,{bordered:"",separator:"",class:"card-scroll-area"},{default:t(()=>[(r(!0),v(A,null,O(R.value,(n,$)=>N((r(),h(_,{key:$,class:W({active:$==w.value}),clickable:"",onClick:re=>z(n,$)},{default:t(()=>[l(c,null,{default:t(()=>[l(G,null,{default:t(()=>[d(o(e.$t("name"))+": ",1),C("strong",null,o(n.name),1)]),_:2},1024),d(" "+o(n.description),1)]),_:2},1024)]),_:2},1032,["class","onClick"])),[[X]])),128))]),_:1}),a(m)?b("",!0):(r(),v("div",se,o(e.$t("click_any_dingus")),1)),l(_,null,{default:t(()=>[l(c,null,{default:t(()=>[l(K,{modelValue:f.value,"onUpdate:modelValue":s[0]||(s[0]=n=>f.value=n),label:e.$t("search_for_name"),placeholder:e.$t("search_by_name"),hint:e.$t("enter_a_name")},null,8,["modelValue","label","placeholder","hint"])]),_:1})]),_:1}),l(c,{class:"q-pa-sm"},{default:t(()=>[l(I,{style:Q({"background-color":a(u).negative,color:a(u).light}),label:e.$t("remove_all"),onClick:s[1]||(s[1]=n=>p.value=!0)},null,8,["style","label"])]),_:1})]),_:1},8,["msg"])):b("",!0),a(m)?(r(),h(x,{key:1,class:"card"},{default:t(()=>[l(Z,{class:"bg-accent text-white shadow-2"},{default:t(()=>[l(Y,null,{default:t(()=>[d(o(a(m).name),1)]),_:1})]),_:1}),l(_,null,{default:t(()=>[l(c,null,{default:t(()=>[d(o(a(m).description),1)]),_:1})]),_:1}),l(_,null,{default:t(()=>[l(c,null,{default:t(()=>[C("label",null,[C("strong",null,o(e.$t("status"))+":",1),d(" "+o(a(m).verified?e.$t("verified"):e.$t("pending")),1)])]),_:1}),l(c,{side:""},{default:t(()=>[l(I,{to:"/detail_dingus",icon:"mdi-pencil"})]),_:1})]),_:1})]),_:1})):b("",!0),a(S).length==0?(r(),v("div",ne,[l(U,{icon:"mdi-cancel",label:e.$t("no_dinguss")},null,8,["label"])])):b("",!0),l(j,{modelValue:p.value,"onUpdate:modelValue":s[3]||(s[3]=n=>p.value=n),persistent:"",label:e.$t("delete_all"),onSubmit:E},{buttons:t(()=>[N(l(B,{style:Q({"background-color":a(u).negative,color:a(u).light}),label:e.$t("cancel"),onClick:s[2]||(s[2]=n=>p.value=!1)},null,8,["style","label"]),[[ee]]),l(B,{type:"submit",style:Q({"background-color":a(u).positive,color:a(u).light}),label:e.$t("delete")},null,8,["style","label"])]),default:t(()=>[d(o(e.$t("confirm_delete_all"))+" ",1)]),_:1},8,["modelValue","label"])],64)}}}),ye=T({__name:"ListDingussPage",setup(q){return(V,L)=>{const y=g("app-page");return r(),h(y,null,{default:t(()=>[l(oe)]),_:1})}}});export{ye as default};
