import{j as H,k as P,n as ye,Q as _e,l as S,m as O,c as f,h as m,p as L,u as xe,q as we,r as q,a as qe,s as ke,t as Ce,v as Be,x as Se,y as Ee,z as te,w as W,A as $e,B as U,g as Te,C as ze,D as h,E as De,G as A,d as y,H as Qe,I as oe,J as Fe,K as J,L as Pe,M as Ae,f as He}from"./index.fe271617.js";import{Q as Oe,a as Le}from"./use-dark.1604e928.js";import{Q as Me}from"./QCard.e508ffcf.js";import{Q as Ke}from"./QForm.a57c5b0b.js";import{u as Ie,a as Ne,b as Re,c as je,d as Ve,e as Ge,f as We}from"./use-tick.7e9221e1.js";import{r as X,a as Ue,b as Je}from"./focus-manager.02955f48.js";import{p as F}from"./portal.c2b6ee92.js";import{u as Xe}from"./use-quasar.231e3db0.js";const Ye=H({__name:"AppBtn",props:{label:{},color:{},full:{type:Boolean}},setup(e){const o=e;return(n,a)=>(S(),P(_e,{label:o.label,color:o.color,class:ye(["text-size-16",{"full-width":n.full}]),padding:".2rem .3rem",nocaps:"",unelevated:""},null,8,["label","color","class"]))}});var Ze=O({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(e,{slots:o}){const n=f(()=>`q-card__section q-card__section--${e.horizontal===!0?"horiz row no-wrap":"vert"}`);return()=>m(e.tag,{class:n.value},L(o.default))}}),et=O({name:"QCardActions",props:{...xe,vertical:Boolean},setup(e,{slots:o}){const n=we(e),a=f(()=>`q-card__actions ${n.value} q-card__actions--${e.vertical===!0?"vert column":"horiz row"}`);return()=>m("div",{class:a.value},L(o.default))}});const tt={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function ot(e,o=()=>{},n=()=>{}){return{transitionProps:f(()=>{const a=`q-transition--${e.transitionShow||o()}`,s=`q-transition--${e.transitionHide||n()}`;return{appear:!0,enterFromClass:`${a}-enter-from`,enterActiveClass:`${a}-enter-active`,enterToClass:`${a}-enter-to`,leaveFromClass:`${s}-leave-from`,leaveActiveClass:`${s}-leave-active`,leaveToClass:`${s}-leave-to`}}),transitionStyle:f(()=>`--q-transition-duration: ${e.transitionDuration}ms`)}}function nt(e){for(e=e.parent;e!=null;){if(e.type.name==="QGlobalDialog")return!0;if(e.type.name==="QDialog"||e.type.name==="QMenu")return!1;e=e.parent}return!1}function at(e,o,n,a){const s=q(!1),i=q(!1);let r=null;const c={},u=a==="dialog"&&nt(e);function d(v){if(v===!0){X(c),i.value=!0;return}i.value=!1,s.value===!1&&(u===!1&&r===null&&(r=Be(!1,a)),s.value=!0,F.push(e.proxy),Ue(c))}function g(v){if(i.value=!1,v!==!0)return;X(c),s.value=!1;const x=F.indexOf(e.proxy);x!==-1&&F.splice(x,1),r!==null&&(Se(r),r=null)}return qe(()=>{g(!0)}),e.proxy.__qPortal=!0,ke(e.proxy,"contentEl",()=>o.value),{showPortal:d,hidePortal:g,portalIsActive:s,portalIsAccessible:i,renderPortal:()=>u===!0?n():s.value===!0?[m(Ce,{to:r},n())]:void 0}}const p=[];let _;function st(e){_=e.keyCode===27}function lt(){_===!0&&(_=!1)}function it(e){_===!0&&(_=!1,Ee(e,27)===!0&&p[p.length-1](e))}function ne(e){window[e]("keydown",st),window[e]("blur",lt),window[e]("keyup",it),_=!1}function rt(e){te.is.desktop===!0&&(p.push(e),p.length===1&&ne("addEventListener"))}function Y(e){const o=p.indexOf(e);o>-1&&(p.splice(o,1),p.length===0&&ne("removeEventListener"))}const b=[];function ae(e){b[b.length-1](e)}function ut(e){te.is.desktop===!0&&(b.push(e),b.length===1&&document.body.addEventListener("focusin",ae))}function Z(e){const o=b.indexOf(e);o>-1&&(b.splice(o,1),b.length===0&&document.body.removeEventListener("focusin",ae))}let B=0;const ct={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},ee={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]};var dt=O({name:"QDialog",inheritAttrs:!1,props:{...Ie,...tt,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,position:{type:String,default:"standard",validator:e=>e==="standard"||["top","bottom","left","right"].includes(e)}},emits:[...Ne,"shake","click","escapeKey"],setup(e,{slots:o,emit:n,attrs:a}){const s=Te(),i=q(null),r=q(!1),c=q(!1);let u=null,d=null,g,v;const x=f(()=>e.persistent!==!0&&e.noRouteDismiss!==!0&&e.seamless!==!0),{preventBodyScroll:M}=We(),{registerTimeout:K}=Re(),{registerTick:se,removeTick:I}=je(),{transitionProps:le,transitionStyle:N}=ot(e,()=>ee[e.position][0],()=>ee[e.position][1]),{showPortal:R,hidePortal:j,portalIsAccessible:ie,renderPortal:re}=at(s,i,be,"dialog"),{hide:k}=Ve({showing:r,hideOnRouteChange:x,handleShow:ge,handleHide:ve,processOnMount:!0}),{addToHistory:ue,removeFromHistory:ce}=Ge(r,k,x),de=f(()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${e.maximized===!0?"maximized":"minimized"} q-dialog__inner--${e.position} ${ct[e.position]}`+(c.value===!0?" q-dialog__inner--animating":"")+(e.fullWidth===!0?" q-dialog__inner--fullwidth":"")+(e.fullHeight===!0?" q-dialog__inner--fullheight":"")+(e.square===!0?" q-dialog__inner--square":"")),C=f(()=>r.value===!0&&e.seamless!==!0),fe=f(()=>e.autoClose===!0?{onClick:he}:{}),me=f(()=>[`q-dialog fullscreen no-pointer-events q-dialog--${C.value===!0?"modal":"seamless"}`,a.class]);W(()=>e.maximized,t=>{r.value===!0&&T(t)}),W(C,t=>{M(t),t===!0?(ut(z),rt($)):(Z(z),Y($))});function ge(t){ue(),d=e.noRefocus===!1&&document.activeElement!==null?document.activeElement:null,T(e.maximized),R(),c.value=!0,e.noFocus!==!0?(document.activeElement!==null&&document.activeElement.blur(),se(w)):I(),K(()=>{if(s.proxy.$q.platform.is.ios===!0){if(e.seamless!==!0&&document.activeElement){const{top:l,bottom:D}=document.activeElement.getBoundingClientRect(),{innerHeight:G}=window,Q=window.visualViewport!==void 0?window.visualViewport.height:G;l>0&&D>Q/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-Q,D>=G?1/0:Math.ceil(document.scrollingElement.scrollTop+D-Q/2))),document.activeElement.scrollIntoView()}v=!0,i.value.click(),v=!1}R(!0),c.value=!1,n("show",t)},e.transitionDuration)}function ve(t){I(),ce(),V(!0),c.value=!0,j(),d!==null&&(((t&&t.type.indexOf("key")===0?d.closest('[tabindex]:not([tabindex^="-"])'):void 0)||d).focus(),d=null),K(()=>{j(!0),c.value=!1,n("hide",t)},e.transitionDuration)}function w(t){Je(()=>{let l=i.value;l===null||l.contains(document.activeElement)===!0||(l=(t!==""?l.querySelector(t):null)||l.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||l.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||l.querySelector("[autofocus], [data-autofocus]")||l,l.focus({preventScroll:!0}))})}function E(t){t&&typeof t.focus=="function"?t.focus({preventScroll:!0}):w(),n("shake");const l=i.value;l!==null&&(l.classList.remove("q-animate--scale"),l.classList.add("q-animate--scale"),u!==null&&clearTimeout(u),u=setTimeout(()=>{u=null,i.value!==null&&(l.classList.remove("q-animate--scale"),w())},170))}function $(){e.seamless!==!0&&(e.persistent===!0||e.noEscDismiss===!0?e.maximized!==!0&&e.noShake!==!0&&E():(n("escapeKey"),k()))}function V(t){u!==null&&(clearTimeout(u),u=null),(t===!0||r.value===!0)&&(T(!1),e.seamless!==!0&&(M(!1),Z(z),Y($))),t!==!0&&(d=null)}function T(t){t===!0?g!==!0&&(B<1&&document.body.classList.add("q-body--dialog"),B++,g=!0):g===!0&&(B<2&&document.body.classList.remove("q-body--dialog"),B--,g=!1)}function he(t){v!==!0&&(k(t),n("click",t))}function pe(t){e.persistent!==!0&&e.noBackdropDismiss!==!0?k(t):e.noShake!==!0&&E()}function z(t){e.allowFocusOutside!==!0&&ie.value===!0&&ze(i.value,t.target)!==!0&&w('[tabindex]:not([tabindex="-1"])')}Object.assign(s.proxy,{focus:w,shake:E,__updateRefocusTarget(t){d=t||null}}),$e(V);function be(){return m("div",{role:"dialog","aria-modal":C.value===!0?"true":"false",...a,class:me.value},[m(U,{name:"q-transition--fade",appear:!0},()=>C.value===!0?m("div",{class:"q-dialog__backdrop fixed-full",style:N.value,"aria-hidden":"true",tabindex:-1,onClick:pe}):null),m(U,le.value,()=>r.value===!0?m("div",{ref:i,class:de.value,style:N.value,tabindex:-1,...fe.value},L(o.default)):null)])}return re}});const ft={class:"dialog-bg"},mt={class:"card-header"},gt=H({__name:"AppDialog",props:{label:{}},setup(e){const o=e,n=Xe();return(a,s)=>(S(),P(dt,{"transition-show":"slide-up","transition-hide":"slide-down",maximized:!!De(n).screen.lt.sm},{default:h(()=>[A("div",ft,[A("div",mt,[y(Ke,{onSubmit:s[0]||(s[0]=i=>a.$emit("submit"))},{default:h(()=>[a.label?(S(),P(Oe,{key:0},{default:h(()=>[y(Le,{class:"card-header text-center"},{default:h(()=>[Qe(oe(o.label),1)]),_:1})]),_:1})):Fe("",!0),y(Me,{class:"app-dialog bg-backdrop"},{default:h(()=>[y(Ze,{class:"q-pt-none text-dark"},{default:h(()=>[J(a.$slots,"default")]),_:3}),y(et,{align:"right",class:"text-primary"},{default:h(()=>[J(a.$slots,"buttons")]),_:3})]),_:3})]),_:3})])])]),_:3},8,["maximized"]))}}),vt={class:"absolute-center text-center"},ht={class:"text-size-21 text-light"},pt=H({__name:"NothingHere",props:{label:{},icon:{}},setup(e){const o=e;return(n,a)=>(S(),Pe("div",vt,[y(Ae,{name:o.icon,size:"3rem",color:"light"},null,8,["name"]),A("div",ht,oe(o.label),1)]))}}),bt={"app-btn":Ye,"app-dialog":gt,"nothing-here":pt};var St=He(async({app:e})=>{Object.entries(bt).forEach(([o,n])=>{e.component(o,n)})});export{St as default};
